Homework 2
================
Clare Qian

``` r
library(tidyverse)
```

    ## -- Attaching packages ----------------------------------------------------------------- tidyverse 1.3.0 --

    ## v ggplot2 3.3.2     v purrr   0.3.4
    ## v tibble  3.0.3     v dplyr   1.0.2
    ## v tidyr   1.1.2     v stringr 1.4.0
    ## v readr   1.3.1     v forcats 0.5.0

    ## -- Conflicts -------------------------------------------------------------------- tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
library(dplyr)
```

## Problem 1

Read the Mr. Trashwheel dataset.

``` r
trashwheel_df=
  read_xlsx("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
            sheet="Mr. Trash Wheel",
            range=cell_cols("A:N")) %>%
janitor::clean_names() %>%
drop_na(dumpster) %>%
mutate(
  sports_balls = round(sports_balls),
  sports_balls = as.integer(sports_balls))
```

Read the precipitation data for 2017 and 2018.

``` r
precip_2017 =
  read_xlsx(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    skip = 1
  ) %>%
janitor::clean_names() %>%
drop_na(month) %>%
mutate(year = 2017) %>%
relocate(year)

precip_2018 =
  read_xlsx(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>%
janitor::clean_names() %>%
drop_na(month) %>%
mutate(year = 2018) %>%
relocate(year)
```

Now combine annual precipitation.

``` r
precip_df = 
  bind_rows(precip_2017, precip_2018) %>%
mutate(month = month.name[month])
precip_df
```

    ## # A tibble: 24 x 3
    ##     year month     total
    ##    <dbl> <chr>     <dbl>
    ##  1  2017 January    2.34
    ##  2  2017 February   1.46
    ##  3  2017 March      3.57
    ##  4  2017 April      3.99
    ##  5  2017 May        5.64
    ##  6  2017 June       1.4 
    ##  7  2017 July       7.09
    ##  8  2017 August     4.44
    ##  9  2017 September  1.95
    ## 10  2017 October    0   
    ## # ... with 14 more rows

Data description:

This dataset contains information from the Mr. Trashwheel trash
collector in Baltimore, Maryland. When trash enters the inner harbor,
the trashwheel collects the trash and stores it in a dumpster. The
dataset contains information on year, month, and the amount and types of
trash collected. There are 344 observations in the Mr. Trash Wheel
sheet. Key variables include month, year, the weight of dumpster in
tons, and the amount of some specific types of trash such as plastic
bottles and sports balls. There are 24 observations in the precipitation
dataset. Key variables include year, month, and precipitation. From
available data, the total precipitation in 2018 was 70.33, and the
median number of sports balls in a dumpster in 2017 was 8.

## Problem 2

Read and clean the data.

``` r
entrance_df =
  read_csv(file="./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
janitor::clean_names() %>%
select(line:route11,entry,vending,entrance_type,ada) %>%
mutate(entry=recode(entry,"YES"=TRUE,"NO"=FALSE))
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_double(),
    ##   Route9 = col_double(),
    ##   Route10 = col_double(),
    ##   Route11 = col_double(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

Data description: The dataset contains line, station\_name, station
latitude and longtitude, routes served, entry, vending, entrance type,
and ADA compliance. So far I imported the datafile, transformed all of
the variable names to lowercase letters, selected relevant variables,
and mutated character values in the entry variable to logical values.
The dataset contains 1868 rows and 19 columns. The dataset is not tidy
since columns from route1 to route11 are not variables but values.
